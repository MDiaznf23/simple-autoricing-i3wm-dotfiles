#================================
# Backend & Performance
#================================
backend = "glx";
vsync = true;
use-damage = true;
glx-no-stencil = true;
glx-no-rebind-pixmap = true;

#================================
# Rounded Corners
#================================
corner-radius = 10;
detect-rounded-corners = true;

rounded-corners-exclude = [
    "window_type = 'dock'",
    "window_type = 'desktop'",
    "class_g = 'Polybar'",
    "class_g = 'Eww'",
    "class_g = 'eww'",
    "class_g = 'Dunst'",
    "class_g = 'Rofi'",
];

#================================
# Opacity
#================================
inactive-opacity = 1.0;
active-opacity = 1.0;
frame-opacity = 1.0;

opacity-rule = [
    "90:class_g = 'Dunst'",
    "90:class_g = 'Pcmanfm'",
    "90:class_g = 'Thunar'",
    "90:class_g = 'dolphin'",
];

#================================
# Fading
#================================
fading = true;
fade-in-step = 0.08;
fade-out-step = 0.08;
fade-delta = 8;
no-fading-openclose = false;

#================================
# Shadows
#================================
shadow-exclude = [
    "class_g = 'Eww'",
    "class_g = 'Polybar'",
    "window_type = 'dock'",
    "window_type = 'desktop'",
];

#================================
# Animations (Picom v12+)
#================================
# Script untuk animasi window
animations = ({
    triggers = ["open", "show"];
    preset = "appear";
    duration = 0.2;
    scale = 0.9;
}, {
    triggers = ["close", "hide"];
    preset = "disappear";
    duration = 0.2;
    scale = 0.9;
}, {
    triggers = ["geometry"];
    preset = "geometry-change";
    duration = 0.3;
})

# Animasi untuk workspace switch (optional)
animation-for-workspace-switch-in = "slide-down";
animation-for-workspace-switch-out = "slide-up";

#================================
# Window Type Settings
#================================
wintypes:
{
    tooltip = { fade = true; shadow = false; opacity = 0.95; focus = true; full-shadow = false; };
    dock = { shadow = false; clip-shadow-above = true; };
    dnd = { shadow = false; };
    popup_menu = { opacity = 0.95; shadow = true; };
    dropdown_menu = { opacity = 0.95; shadow = true; };
};
